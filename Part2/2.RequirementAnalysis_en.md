![latest tag](https://img.shields.io/github/v/tag/gtuja/CSC_MS.svg?color=brightgreen)
[![Language](https://img.shields.io/badge/Language-%E6%97%A5%E6%9C%AC%E8%AA%9E-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/2.RequirementAnalysis.md)
[![Home](https://img.shields.io/badge/Home-Readme-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/README_en.md)
[![Part.2.1](https://img.shields.io/badge/Prev-Part.2.1-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/1.WorFlowOnGithub_en.md)
[![Part.2.3](https://img.shields.io/badge/Next-Part.2.3-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/3.SoftwareDesign_en.md)

# 2.2. Requirement Analysis

<div id="toc"></div>
<details open>
<summary><font size="5"><b>Table of Contents</b></font></summary>

- [History](#history)
- [Concept](#Concept)
- [What is requirements](#what_is_requirements)
- [Project XLM](#project_xlm)
- [Reference](#Reference)

</details>

<div id="history"></div>
<details open>
<summary><font size="5"><b>History</b></font></summary> 

- [TOC](#toc)
- v0.4 2024/09/24 Seho.Seo Brand new document.

</details>

<div id="Concept"></div>
<details open>
<summary><font size="5"><b>Concept</b></font></summary>

- [TOC](#toc)
- In this chapter we're gonna discuss about requirements.
- Clarify each of requirement definition and try to make up them by ourselves with simple product XLM(X? Light Manager). 
- Without mention, predefined requirements are not the only one way to reach the goal, moving on! show me the better world.
- Keep in mind [Golden ratio](https://en.m.wikipedia.org/wiki/Golden_ratio) and [Affordance](https://en.m.wikipedia.org/wiki/Affordance), divide and conquer with [Occam's razor](https://en.m.wikipedia.org/wiki/Occam%27s_razor). 

</details>

<div id="what_is_requirements"></div>
<details open>
<summary><font size="5"><b>What is requirements</b></font></summary>

- [TOC](#toc)
- There are a lot of definition and methodologies related to requirements.
- Here we do define each of requirements as simple as we can, remember it's not the only one.
- SR (System Requirement)<br>
\- As mentioned in IEEE Guide for Developing System Requirements Specifications, the basic features for System Requirements are capabilities those of that system **needed or desired by the customer**.<br>
\- It's up to the **needs**, therefore apt to be ***vague or unspecified***.<br>
- SyRS (System Requirement Specification)<br>
\- SyRS might claim against SR, it say **feasibility**, but still lies in a quantitative point of view.<br>
\- There might be multiple way, some kind of technical details, and SyRS shall not restrict actual implementation.<br>
- SwRS (Software Requirement Specification)<br>
\- SwRS shall define **specific method** to satisfy both of SR andd SyRS.<br>
\- SwRS might be tightly link to SwDD, but it still tends to be abstract.<br>
- SwDD (Software Detailed Design)<br>
\- SwDD shall make it clear **how to implement**.<br>
\- It shall have specific guide of how to implement features.<br>
\- Common sense or standards like UML shall be a good way to represent its validity.<br>
\- Regarding SwDD, we're gonna look inside at [3.3.Software Design](https://github.com/gtuja/CSC_MS/blob/main/Part2/3.SoftwareDesign.md).

</details>

<div id="project_xlm"></div>
<details open>
<summary><font size="5"><b>Project XLM</b></font></summary>

- [TOC](#toc)
- Let us have a simple project, XLM(X? Light Manager) as an example.
- Here we define requirements below, nagging but it's not the only one.
- SR<br>
\- [SR_0001] System shall retrieve the button state.<br>
\- [SR_0002] System shall change LED brightness.<br>
\- [SR_0003] system shall respond to button state and LED output at every 1ms.<br>
\- [SR_0004] System shall provide chattering prevention of button.<br>
\- [SR_0005] The match count for button chattering prevention shall be 5.<br>
\- [SR_0006] System shall handle button events shall be determined according to the pressed time, if button released after pressed time less then 1s then short-pressed event shall be notified, and if the pressed time is longer than 2s then the long-pressed event shall be immediately.<br>
\- [SR_0007] System shall provide fading feature for LED.<br>
\- [SR_0008] Fade in shall be done during 1s, when the short-pressed button event is notified under off state.<br>
\- [SR_0009] Fade out shall be done during 2s, when the short-pressed button event is notified under on state.<br>
\- [SR_0010] LED shall be switched on or off immediately when th long-press button event is notified.<br>
\- [SR_0011] System shall provide some kind of logging feature.<br>
  > What you say? Isn't it too sophisticated? Anyway just proceed.
- SyRS<br>
\- [SyRS_001] The **system block diagram** might be below. [SR_0001-SR_0004]<br>
![System Block Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_BlockDiagram.drawio.png)<br>
\- [SyRS_002] The MCU **STM32G0B1RE** has more than 10 free GPIO ports to connect each of buttons and LEDs. [SR_0001, SR_0002]<br> 
\- [SyRS_003] The MCU is driven up to 64Mhz, it could afford to process inputs and outputs with providing features, i.e., chattering prevention, fade in, fade out, at every 1ms. [SR_0003]<br>
\- [SyRS_004] Some kind of OS feature, e.g., FreeRTOS, shall handle periodic processes and tasks. [SR_0003, SR_0010]<br>
\- [SyRS_005] Button and LED control shall be processed as a periodic process, e.g., SysTick, to be punctual on the response time (1ms). [SR_0003]<br>
\- [SyRS_006] Button control shall retrieve the button state and is responsible for chattering prevention, defined in [SR_0004, SR_0005], and extracting button events, i.e., short-press, long-press, defined in [SR_0006]. [SR_0001, SR_0004, SR_0005, SR_0006]<br>
\- [SyRS_007] LED control shall be processed after Button control process to ensure the button event consistency. [SR_0008, SR_0009, SR_0010]<br>
\- [SyRS_008] LED process shall provide fading feature, defined in [SR_0007, SR_0008, SR_0009] with PWM timer. [SR_0007, SR_0008, SR_0009]<br>
\- [SyRS_009] System shall provide some kind of logging feature to PC.[SR_0010]<br>
- SwRS<br>
\- [SwRS_001] The **software block diagram** shall be below. [SyRS_001, SyRS_0004]<br>
![Software Block Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_BlockDiagram_Software.drawio.png)<br>
\- [SwRS_002] Software shall use middlewares, i.e., HAL (Hardware Abstraction Layer), FreeRTOS. [SyRS_004]<br>
\- [SwRS_003] There are 2 application services, Button Service and LED Service.<br>
\- [SwRS_004] The application services shall be implemented in the ISR Service (Interrupt Service Routine) of a dedicated timer attached to 1msec SysTick. [SyRS_005]<br>
\- [SwRS_005] LED Service shall be processed after Button Service to ensure the button event consistency. [SyRS_007]<br>
\- [SwRS_006] Button Service shall provide features below.<br>
&nbsp;&nbsp;\+ Retrieve button state [SyRS_006]<br>
&nbsp;&nbsp;\+ Chattering prevention [SyRS_006]<br>
&nbsp;&nbsp;\+ Extract button events [SyRS_006]<br>
&nbsp;&nbsp;\+ Notify button state transition [SyRS_009]<br>
\- [SwRS_007] Button Service shall retrieve button state of connected GPIO.[SyRS_006]<br>
\- [SwRS_008] Button Service shall implement chattering prevention with state transition below. [SyRS_006]<br>
![Button State Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_StateDiagram_Button.drawio.png)<br>
\- [SwRS_009] Button Service shall extract button events defined in [SyRS_006].<br>
&nbsp;&nbsp;\+ short-press [SyRS_006]<br>
&nbsp;&nbsp;\+ long-press [SyRS_006]<br>
\- [SwRS_010] Button Service shall notify state transition to Button Task. [SyRS_009].<br>
\- [SwRS_011] LED Service shall provide features below.<br>
&nbsp;&nbsp;\+ Output LED [SyRS_008]<br>
&nbsp;&nbsp;\+ Fading [SyRS_008]<br>
&nbsp;&nbsp;\+ Notify LED state transition [SyRS_009]<br>
\- [SwRS_012] LED Service shall implement on, off, fading with state transition below. [SyRS_008]<br>
![LED State Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_StateDiagram_LED.drawio.png)<br>
\- [SwRS_013] LED Service shall notify state transition to Button Task. [SyRS_009].<br>
\- [SwRS_014] There are 3 application tasks, Button Task, LED Task, SWD (Serial Wire Debug) Task.<br>
\- [SwRS_015] Button Task shall receive state transition notification from Button Service with IPC, e.g., Queue. [SyRS_009]<br>
\- [SwRS_016] Button Task shall notify state transition to SWD Task with IPC, e.g., Queue. [SyRS_009]<br>
\- [SwRS_017] LED Task shall receive state transition notification from LED Service with IPC, e.g., Queue. [SyRS_009]<br>
\- [SwRS_018] LED Task shall notify state transition to SWD Task with IPC, e.g., Queue. [SyRS_009]<br>
\- [SwRS_019] SWD Task shall receive notifications from Services and Tasks with IPC, e.g., Queue. [SyRS_009]<br>
\- [SwRS_020] SWD Task shall send serial data to connected ST-Link with UART and ST-Link send them to outside world, e.g, PC, with Virtual-Com communication. [SyRS_009]<br>

</details>

<div id="Reference"></div>
<details open>
<summary><font size="5"><b>Reference</b></font></summary>

- [TOC](#toc)

</details>
<br>

![latest tag](https://img.shields.io/github/v/tag/gtuja/CSC_MS.svg?color=brightgreen)
[![Language](https://img.shields.io/badge/Language-%E6%97%A5%E6%9C%AC%E8%AA%9E-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/2.RequirementAnalysis.md)
[![Home](https://img.shields.io/badge/Home-Readme-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/README_en.md)
[![Part.2.1](https://img.shields.io/badge/Prev-Part.2.1-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/1.WorFlowOnGithub_en.md)
[![Part.2.3](https://img.shields.io/badge/Next-Part.2.3-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/3.SoftwareDesign_en.md)