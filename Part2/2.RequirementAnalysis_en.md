![latest tag](https://img.shields.io/github/v/tag/gtuja/CSC_MS.svg?color=brightgreen)
[![Language](https://img.shields.io/badge/Language-%E6%97%A5%E6%9C%AC%E8%AA%9E-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/2.RequirementAnalysis.md)
[![Home](https://img.shields.io/badge/Home-Readme-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/README_en.md)
[![Part.2.1](https://img.shields.io/badge/Prev-Part.2.1-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/1.WorFlowOnGithub_en.md)
[![Part.2.3](https://img.shields.io/badge/Next-Part.2.3-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/3.SoftwareDesign_en.md)

# 2.2. Requirement Analysis

<div id="toc"></div>
<details open>
<summary><font size="5"><b>Table of Contents</b></font></summary>

- [History](#history)
- [Concept](#Concept)
- [What is requirements](#what_is_requirements)
- [Project XLM](#project_xlm)
- [Reference](#Reference)

</details>

<div id="history"></div>
<details open>
<summary><font size="5"><b>History</b></font></summary> 

- [TOC](#toc)<br>
- v0.4 2024/09/24 Seho.Seo Brand new document.

</details>

<div id="Concept"></div>
<details open>
<summary><font size="5"><b>Concept</b></font></summary>

- [TOC](#toc)<br>
- In this chapter we're gonna discuss about requirements.
- Clarify each of requirement definition and try to make up them by ourselves with simple product XLM(X? Light Manager). 
- Without mention, predefined requirements are not the only one way to reach the goal, moving on! show me the better world.
- Keep in mind [Golden ratio](https://en.m.wikipedia.org/wiki/Golden_ratio) and [Affordance](https://en.m.wikipedia.org/wiki/Affordance), divide and conquer with [Occam's razor](https://en.m.wikipedia.org/wiki/Occam%27s_razor). 

</details>

<div id="what_is_requirements"></div>
<details open>
<summary><font size="5"><b>What is requirements</b></font></summary>

- [TOC](#toc)<br>
- There are a lot of definition and methodologies related to requirements.
- Here we do define each of requirements as simple as we can, remember it's not the only one.
- SR (System Requirement)
  - As mentioned in IEEE Guide for Developing System Requirements Specifications, the basic features for System Requirements are capabilities those of that system **needed or desired by the customer**.
  - It's up to the **needs**, therefore apt to be ***vague or unspecified***.
- SyRS (System Requirement Specification)
  - SyRS might claim against SR, it say **feasibility**, but still lies in a quantitative point of view.
  - There might be multiple way, some kind of technical details, and SyRS shall not restrict actual implementation.
- SwRS (Software Requirement Specification)
  - SwRS shall define **specific method** to satisfy both of SR andd SyRS.
  - SwRS might be tightly link to SwDD, but it still tends to be abstract.
- SwDD (Software Detailed Design)
  - SwDD shall make it clear **how to implement**.
  - It shall have specific guide of how to implement features.
  - Common sense or standards like UML shall be a good way to represent its validity.

</details>

<div id="project_xlm"></div>
<details open>
<summary><font size="5"><b>Project XLM</b></font></summary>

- [TOC](#toc)<br>
- Let us have a simple project, XLM(X? Light Manager) as an example.
- Here we define requirements below, nagging but it's not the only one.
- SR
  + [SR_0001] System shall retrieve the button state.
  + [SR_0002] System shall change LED brightness.
  + [SR_0003] system shall respond to button state and LED output at every 1ms.
  + [SR_0004] System shall provide chattering prevention of button.
  + [SR_0005] The match count for button chattering prevention shall be 5.
  + [SR_0006] System shall handle button events shall be determined according to the pressed time, if button released after pressed time less then 1s then short-pressed event shall be notified, and if the pressed time is longer than 2s then the long-pressed event shall be immediately.
  + [SR_0007] System shall provide fading feature for LED.
  + [SR_0008] Fade in shall be done during 1s, when the short-pressed button event is notified under off state.
  + [SR_0009] Fade out shall be done during 2s, when the short-pressed button event is notified under on state.
  + [SR_0010] LED shall be changed on and off immediately when th long-press button event is notified.
  + [SR_0011] System shall provide some kind of logging feature.

  > What you say? Isn't it too sophisticated? Anyway just proceed.

- SyRS
  + [SyRS_001] The **system block diagram** might be below. [SR_0001-SR_0004]<br>
   ![Block Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_BlockDiagram.drawio.png)
  + [SyRS_002] The MCU **STM32G0B1RE** has more than 10 free GPIO ports to connect each of buttons and LEDs. [SR_0001, SR_0002] 
  + [SyRS_003] The MCU is driven up to 64Mhz, it could afford to process inputs and outputs with providing features, i.e., chattering prevention, fade in, fade out, at every 1ms. [SR_0003]
  + [SyRS_004] Some kind of OS feature, e.g., FreeRTOS, shall handle periodic processes and tasks. [SR_0003, SR_0010]
  + [SyRS_005] Button and LED control shall be processed as a periodic process, e.g., SysTick, to be punctual on the response time (1ms). [SR_0003]
  + [SyRS_006] Button control process shall retrieve the button state and is responsible for chattering prevention, defined in [SR_0004, SR_0005], and extracting button events, i.e., short-press, long-press, defined in [SR_0006]. [SR_0001, SR_0004, SR_0005, SR_0006]
  + [SyRS_007] LED control process shall be processed after Button control process to ensure the button event consistency. [SR_0008, SR_0009, SR_0010]
  + [SyRS_008] LED control process shall provide fading feature, defined in [SR_0007, SR_0008, SR_0009] with PWM timer. [SR_0007, SR_0008, SR_0009]
  + [SyRS_009] Task feature shall be used as some kind of non punctual or low priority process, e.g., logging feature.[SR_0010]

- SwRS
  + [SwRS_001] The **software block diagram** shall be below. [SyRS_001, SyRS_0004]<br>
   ![Block Diagram](https://github.com/gtuja/CSC_MS/blob/main/Resources/Part2/Part2_XLM_BlockDiagram_Software.drawio.png)  
  + [SwRS_002] FreeRTOS features shall be defined below. [SyRS_0006]
    * SysTik(1ms) : 
    * Tasks : TSK_LED, TSK_BTN, TSK_SWD.
    * Queues : QueTskLed, QueTskBtn, QueTskSwd, etc.
  + [SwRS_003] LED task and button task shall handle 5 LEDs and 5 buttons at the same time within 1ms. [SyRS_0003, SyRS_0004]
  + [SwRS_004] Software shall implement button state transitions as a ***static library to extend feasibility***. [SyRS_005]
  + [SwRS_005] Software shall implement LED state transitions as a ***static library to extend feasibility***. [SyRS_005]
- SwDD
  + [SwDD_001] The high level design shall be below. [SwRS_001 - SwRS_002]
  + [SwDD_002] SysTick shall be done at every 1ms. [SwRS_002, SwRS_003]
  + [SwDD_003] SysTick shall be responsible for retrieving each state of buttons notify static library process of XSL.XB(S)M. [SwRS_002, SwRS_004]
  + [SwDD_004] SysTick shall be responsible for retrieving each state of LEDs and calling static library process of XSL.XB(S)M [SwRS_002, SwRS_004]

</details>

<div id="Reference"></div>
<details open>
<summary><font size="5"><b>Reference</b></font></summary>

- [TOC](#toc)<br>

</details>
<br>

![latest tag](https://img.shields.io/github/v/tag/gtuja/CSC_MS.svg?color=brightgreen)
[![Language](https://img.shields.io/badge/Language-%E6%97%A5%E6%9C%AC%E8%AA%9E-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/2.RequirementAnalysis.md)
[![Home](https://img.shields.io/badge/Home-Readme-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/README_en.md)
[![Part.2.1](https://img.shields.io/badge/Prev-Part.2.1-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/1.WorFlowOnGithub_en.md)
[![Part.2.3](https://img.shields.io/badge/Next-Part.2.3-brightgreen)](https://github.com/gtuja/CSC_MS/blob/main/Part2/3.SoftwareDesign_en.md)